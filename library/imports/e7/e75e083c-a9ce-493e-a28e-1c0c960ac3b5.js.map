{"version":3,"sources":["assets/Bai_4/Scripts/bai4.js"],"names":["cc","Class","Component","properties","content","Node","itemPrefab","Prefab","autoBtn","Button","popUpFailed","popUpSuccess","fadeOverlay","init","i","time","item","instantiate","title","getChildByName","getComponent","Label","string","compItem","addChild","onLoad","active","button","node","on","closePopUpSuccess","start","showPopUpFailed","opacity","tween","to","closePopUpFailed","call","director","loadScene","getScene","name","showPopUpSucces","autoClick","mision1","children","mision2","mision3","mision4","mision5","mision6","mision7","mision8","mision9","mision10","wait","contribute","stepTime","complete","stores","store","run","result","update","dt"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        content: cc.Node,\n        itemPrefab: cc.Prefab,\n        autoBtn: cc.Button,\n        popUpFailed: cc.Node,\n        popUpSuccess: cc.Node,\n        fadeOverlay: cc.Node,\n\n    },\n\n    init: function (i, time) {\n        let item = cc.instantiate(this.itemPrefab);\n        let title = item.getChildByName(\"title\").getComponent(cc.Label);\n        title.string = \"Nhiệm vụ \" + i;\n        let compItem = item.getComponent(\"item\");\n        compItem.init(\"Nhiệm vụ \" + i, time);\n        this.content.addChild(item);\n    },\n\n    onLoad: function () {\n\n        this.popUpFailed.active = false;\n        this.popUpSuccess.active = false;\n        this.init(1, 3);\n        this.init(2, 3);\n        this.init(3, 3);\n        this.init(4, 3);\n        this.init(5, 3);\n        this.init(6, 3);\n        this.init(7, 3);\n        this.init(8, 3);\n        this.init(9, 3);\n        this.init(10, 3);\n        this.button = this.popUpSuccess.getChildByName(\"CloseButton\").getComponent(cc.Button)\n        this.button.node.on('click', this.closePopUpSuccess, this)\n    },\n\n    start: function () { },\n\n    showPopUpFailed() {\n        this.popUpFailed.opacity = 0;\n        this.popUpFailed.active = true;\n\n        cc.tween(this.popUpFailed)\n            .to(0.4, { opacity: 255 })\n            .start();\n    },\n\n    closePopUpFailed() {\n        cc.tween(this.popUpFailed)\n            .to(0.4, { opacity: 0 })\n            .call(() => {\n                this.popUpFailed.active = false;\n\n                this.fadeOverlay.active = true;\n                this.fadeOverlay.opacity = 0;\n\n                cc.tween(this.fadeOverlay)\n                    .to(0.5, { opacity: 255 })\n                    .call(() => {\n                        cc.director.loadScene(cc.director.getScene().name);\n                    })\n                    .start();\n            })\n            .start();\n    },\n\n    showPopUpSucces() {\n        this.popUpSuccess.opacity = 0;\n        this.popUpSuccess.active = true;\n\n        cc.tween(this.popUpSuccess)\n            .to(0.4, { opacity: 255 })\n            .start();\n    },\n\n    closePopUpSuccess() {\n        cc.tween(this.popUpSuccess)\n            .to(0.4, { opacity: 0 })\n            .call(() => {\n                this.popUpSuccess.active = false;\n\n                this.fadeOverlay.active = true;\n                this.fadeOverlay.opacity = 0;\n\n                cc.tween(this.fadeOverlay)\n                    .to(0.5, { opacity: 255 })\n                    .call(() => {\n                        cc.director.loadScene(cc.director.getScene().name);\n                    })\n                    .start();\n            })\n            .start();\n    },\n\n\n    autoClick: function () {\n        this.autoBtn.node.active = false\n        let mision1 = this.content.children[0].getComponent(\"item\");\n        let mision2 = this.content.children[1].getComponent(\"item\");\n        let mision3 = this.content.children[2].getComponent(\"item\");\n        let mision4 = this.content.children[3].getComponent(\"item\");\n        let mision5 = this.content.children[4].getComponent(\"item\");\n        let mision6 = this.content.children[5].getComponent(\"item\");\n        let mision7 = this.content.children[6].getComponent(\"item\");\n        let mision8 = this.content.children[7].getComponent(\"item\");\n        let mision9 = this.content.children[8].getComponent(\"item\");\n        let mision10 = this.content.children[9].getComponent(\"item\");\n\n        mision10.wait([mision9, mision6, mision2]);\n        mision9.wait([mision8, mision7]);\n        mision6.wait([mision4, mision5]);\n        mision4.wait(mision3);\n        mision2.wait(mision1);\n\n        this.contribute(3, mision10);\n\n    },\n\n    // contribute: async function (stepTime, ...stores) {\n    //     for (const store of stores) {\n    //         await store.run(stepTime);\n    //     }\n    //     complete = true;\n    //     for (const store of stores) {\n    //         if (store.executed == false) {\n\n    //             complete = false;\n    //             this.showPopUpFailed();\n    //             return\n    //         }\n    //     }\n    //     if (complete == true) {\n    //         this.showPopUpSucces();\n    //     } else {\n    //         this.showPopUpFailed();\n    //     }\n\n    // },\n\n    contribute: async function (stepTime, ...stores) {\n    let complete = true;\n    for (const store of stores) {\n        const result = await store.run(stepTime);\n        if (!result) {\n            complete = false;\n        }\n    }\n    if (complete) {\n        this.showPopUpSucces();\n    } else {\n        this.showPopUpFailed();\n    }\n},\n\n\n    update: function (dt) { },\n});"]}