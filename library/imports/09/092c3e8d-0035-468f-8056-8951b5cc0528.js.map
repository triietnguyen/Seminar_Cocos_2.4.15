{"version":3,"sources":["assets/Bai_4/Scripts/item.js"],"names":["cc","Class","Component","properties","title","timeExcute","onLoad","dependencies","executed","init","console","log","wait","store","push","run","stepTime","dep","node","active","sleep","ms","Promise","resolve","setTimeout"],"mappings":";;;;;;+CACA;;;;;;;;;;;;AADA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,KAAK,EAAE,EADC;IAERC,UAAU,EAAC;EAFH,CAHP;EAQLC,MAAM,EAAE,kBAAY;IAChB,KAAKC,YAAL,GAAoB,EAApB;IACA,KAAKC,QAAL,GAAgB,KAAhB;EACH,CAXI;EAaLC,IAAI,EAAE,cAAUL,KAAV,EAAiBC,UAAjB,EAA6B;IAC/B,KAAKD,KAAL,GAAaA,KAAb;IACA,KAAKI,QAAL,GAAgB,KAAhB;IACA,KAAKD,YAAL,GAAoB,EAApB;IACA,KAAKF,UAAL,GAAkBA,UAAlB;IACAK,OAAO,CAACC,GAAR,CAAY,KAAKN,UAAjB;EACH,CAnBI;EAqBLO,IAAI,EAAE,cAAUC,KAAV,EAAiB;IACnB,KAAKN,YAAL,CAAkBO,IAAlB,CAAuBD,KAAvB;EACH,CAvBI;EAyBLE,GAAG;IAAA,sEAAE,iBAAgBC,QAAhB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA,MACG,KAAKX,UAAL,GAAkBW,QADrB;gBAAA;gBAAA;cAAA;;cAAA;;YAAA;cAAA,4CAKiB,KAAKT,YALtB;;YAAA;cAAA;gBAAA;gBAAA;cAAA;;cAKUU,GALV;;cAAA,MAMMA,GAAG,CAACZ,UAAJ,GAAiBW,QANvB;gBAAA;gBAAA;cAAA;;cAAA;;YAAA;cAAA;cAAA,OASSC,GAAG,CAACF,GAAJ,CAAQC,QAAR,CATT;;YAAA;cAAA;cAAA;;YAAA;cAAA,KAYG,KAAKR,QAZR;gBAAA;gBAAA;cAAA;;cAAA;;YAAA;cAaDE,OAAO,CAACC,GAAR,CAAY,KAAKN,UAAjB;cACA,KAAKG,QAAL,GAAgB,IAAhB;cAGAE,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;cACA,KAAKc,IAAL,CAAUC,MAAV,GAAmB,KAAnB;cAlBC;cAAA,OAmBK,KAAKC,KAAL,CAAWJ,QAAQ,GAAG,IAAtB,CAnBL;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAF;;IAAA;MAAA;IAAA;;IAAA;EAAA,GAzBE;EA+CLI,KAAK,EAAE,eAAUC,EAAV,EAAc;IACjB,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD;MAAA,OAAaC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAvB;IAAA,CAAZ,CAAP;EACH;AAjDI,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\n// item.js\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        title: \"\",\n        timeExcute:0,\n    },\n\n    onLoad: function () {\n        this.dependencies = [];\n        this.executed = false;\n    },\n\n    init: function (title, timeExcute) {\n        this.title = title;\n        this.executed = false;\n        this.dependencies = [];\n        this.timeExcute = timeExcute;\n        console.log(this.timeExcute)\n    },\n\n    wait: function (store) {\n        this.dependencies.push(store);\n    },\n\n    run: async function (stepTime) {\n         if(this.timeExcute > stepTime){\n            \n            return\n        }\n        for (const dep of this.dependencies) {\n            if(dep.timeExcute > stepTime){\n                return\n            }\n            await dep.run(stepTime);\n        }\n\n        if (this.executed) return;\n        console.log(this.timeExcute)\n        this.executed = true;\n        \n   \n        console.log(this.title);\n        this.node.active = false;\n        await this.sleep(stepTime * 1000);\n    },\n\n    sleep: function (ms) {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n    },\n});\n"]}