{"version":3,"sources":["assets/Bai_4/Scripts/item.js"],"names":["cc","Class","Component","properties","title","timeExcute","onLoad","dependencies","executed","init","wait","stores","Array","isArray","push","run","stepTime","dep","depResult","execute","node","active","ms","console","log","Promise","resolve","setTimeout"],"mappings":";;;;;;+CACA;;;;;;;;;;;;AADAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,KAAK,EAAE,EADC;IAERC,UAAU,EAAE;EAFJ,CAHP;EAQLC,MAAM,EAAE,kBAAY;IAChB,KAAKC,YAAL,GAAoB,EAApB;IACA,KAAKC,QAAL,GAAgB,KAAhB;EACH,CAXI;EAaLC,IAAI,EAAE,cAAUL,KAAV,EAAiBC,UAAjB,EAA6B;IAC/B,KAAKD,KAAL,GAAaA,KAAb;IACA,KAAKI,QAAL,GAAgB,KAAhB;IACA,KAAKD,YAAL,GAAoB,EAApB;IACA,KAAKF,UAAL,GAAkBA,UAAlB;EACH,CAlBI;EAoBLK,IAAI,EAAE,cAAUC,MAAV,EAAkB;IACpB,IAAIC,KAAK,CAACC,OAAN,CAAcF,MAAd,CAAJ,EAA2B;MAAA;;MACvB,2BAAKJ,YAAL,EAAkBO,IAAlB,2BAA0BH,MAA1B;IACH,CAFD,MAEO;MACH,KAAKJ,YAAL,CAAkBO,IAAlB,CAAuBH,MAAvB;IACH;EACJ,CA1BI;EA4BLI,GAAG;IAAA,sEAAE,iBAAgBC,QAAhB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA,KACG,KAAKR,QADR;gBAAA;gBAAA;cAAA;;cAAA;;YAAA;cAAA,MAEG,KAAKH,UAAL,GAAkBW,QAFrB;gBAAA;gBAAA;cAAA;;cAAA;;YAAA;cAAA,4CAIiB,KAAKT,YAJtB;;YAAA;cAAA;gBAAA;gBAAA;cAAA;;cAIUU,GAJV;;cAAA,MAKOA,GAAG,CAACZ,UAAJ,GAAiBW,QALxB;gBAAA;gBAAA;cAAA;;cAAA,iCAMc,KANd;;YAAA;cAAA;cAAA,OAQ2BC,GAAG,CAACF,GAAJ,CAAQC,QAAR,CAR3B;;YAAA;cAQSE,SART;;cAAA,IASQA,SATR;gBAAA;gBAAA;cAAA;;cAAA,iCAS0B,KAT1B;;YAAA;cAAA;cAAA;;YAAA;cAYD,KAAKV,QAAL,GAAgB,IAAhB;cAZC;cAAA,OAaK,KAAKW,OAAL,CAAaH,QAAQ,GAAG,IAAxB,CAbL;;YAAA;cAcD,KAAKI,IAAL,CAAUC,MAAV,GAAmB,KAAnB;cAdC,iCAeM,IAfN;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAF;;IAAA;MAAA;IAAA;;IAAA;EAAA,GA5BE;EA8CCF,OA9CD,mBA8CSG,EA9CT,EA8Ca;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACdC,OAAO,CAACC,GAAR,uCAA4B,KAAI,CAACpB,KAAjC;cADc;cAAA,OAER,IAAIqB,OAAJ,CAAY,UAACC,OAAD;gBAAA,OAAaC,UAAU,CAACD,OAAD,EAAUJ,EAAV,CAAvB;cAAA,CAAZ,CAFQ;;YAAA;cAGdC,OAAO,CAACC,GAAR,8BAA4B,KAAI,CAACpB,KAAjC;;YAHc;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAIjB;AAlDI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        title: \"\",\n        timeExcute: 0,\n    },\n\n    onLoad: function () {\n        this.dependencies = [];\n        this.executed = false;\n    },\n\n    init: function (title, timeExcute) {\n        this.title = title;\n        this.executed = false;\n        this.dependencies = [];\n        this.timeExcute = timeExcute;\n    },\n\n    wait: function (stores) {\n        if (Array.isArray(stores)) {\n            this.dependencies.push(...stores);\n        } else {\n            this.dependencies.push(stores);\n        }\n    },\n\n    run: async function (stepTime) {\n        if (this.executed) return;\n        if (this.timeExcute > stepTime) return;\n\n        for (const dep of this.dependencies) {\n            if (dep.timeExcute > stepTime) {\n                return false;\n            }\n            const depResult = await dep.run(stepTime);\n            if (!depResult) return false;\n        }\n\n        this.executed = true;\n        await this.execute(stepTime * 1000);\n        this.node.active = false;\n        return true;\n    },\n\n    async execute(ms) {\n        console.log(`üîÑ ƒêang ch·∫°y ${this.title}`);\n        await new Promise((resolve) => setTimeout(resolve, ms));\n        console.log(`‚úÖ Ho√†n th√†nh ${this.title}`);\n    },\n});\n"]}