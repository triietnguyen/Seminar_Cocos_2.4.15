{"version":3,"sources":["assets/Bai_8/Scripts/Bai_8.js"],"names":["cc","Class","Component","properties","getServerTime","xmlHttp","XMLHttpRequest","err1","ActiveXObject","err2","err3","alert","open","window","location","href","toString","setRequestHeader","send","Date","getResponseHeader","getTime","getLocalTime","onLoad","promisify","localTime","serverTime","latancy","console","log","start"],"mappings":";;;;;;+CACA;;;;;;AADA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE,EAHP;EAOL;EACAC,aARK,2BAQW;IACZ,IAAIC,OAAJ;;IACA,IAAI;MACAA,OAAO,GAAG,IAAIC,cAAJ,EAAV;IACH,CAFD,CAGA,OAAOC,IAAP,EAAa;MACT,IAAI;QACAF,OAAO,GAAG,IAAIG,aAAJ,CAAkB,gBAAlB,CAAV;MACH,CAFD,CAEE,OAAOC,IAAP,EAAa;QACX,IAAI;UACAJ,OAAO,GAAG,IAAIG,aAAJ,CAAkB,mBAAlB,CAAV;QACH,CAFD,CAEE,OAAOE,IAAP,EAAa;UACX;UACAC,KAAK,CAAC,oBAAD,CAAL;QACH;MACJ;IACJ;;IACDN,OAAO,CAACO,IAAR,CAAa,MAAb,EAAqBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,QAArB,EAArB,EAAsD,KAAtD;IACAX,OAAO,CAACY,gBAAR,CAAyB,cAAzB,EAAyC,WAAzC;IACAZ,OAAO,CAACa,IAAR,CAAa,EAAb;IACA,OAAO,IAAIC,IAAJ,CAASd,OAAO,CAACe,iBAAR,CAA0B,MAA1B,CAAT,EAA4CC,OAA5C,EAAP;EACH,CA7BI;EA+BLC,YA/BK,0BA+BU;IACX,OAAO,IAAIH,IAAJ,GAAWE,OAAX,EAAP;EACH,CAjCI;EAmCCE,MAnCD,oBAmCU;IAAA;;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACaC,SAAS,CAAC,KAAI,CAACF,YAAN,CAAT,EADb;;YAAA;cACLG,SADK;cAAA;cAAA,OAEcD,SAAS,CAAC,KAAI,CAACpB,aAAN,CAAT,EAFd;;YAAA;cAELsB,UAFK;cAGLC,OAHK,GAGKD,UAAU,GAAGD,SAHlB;cAIXG,OAAO,CAACC,GAAR,CAAY,cAAcF,OAA1B;;YAJW;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAKd,CAxCI;EA0CL;EACA;EACA;EACA;EACA;EACA;EACA;EAEAG,KAlDK,mBAkDG,CAEP,CApDI,CAsDL;;AAtDK,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    getServerTime() {\n        let xmlHttp;\n        try {\n            xmlHttp = new XMLHttpRequest();\n        }\n        catch (err1) {\n            try {\n                xmlHttp = new ActiveXObject('Msxml2.XMLHTTP');\n            } catch (err2) {\n                try {\n                    xmlHttp = new ActiveXObject('Microsoft.XMLHTTP');\n                } catch (err3) {\n                    //AJAX not supported, use CPU time.\n                    alert(\"AJAX not supported\");\n                }\n            }\n        }\n        xmlHttp.open('HEAD', window.location.href.toString(), false);\n        xmlHttp.setRequestHeader(\"Content-Type\", \"text/html\");\n        xmlHttp.send('');\n        return new Date(xmlHttp.getResponseHeader(\"Date\")).getTime()\n    },\n\n    getLocalTime() {\n        return new Date().getTime()\n    },\n\n    async onLoad() {\n        const localTime = await promisify(this.getLocalTime)();\n        const serverTime = await promisify(this.getServerTime)();\n        const latancy = serverTime - localTime;\n        console.log(\"Độ trễ : \" + latancy)\n    },\n\n    // promisify(fn) {\n    //     return (...args)=>{\n    //         try{\n    //             let checkFunc = fn(...args);\n    //         }catch\n    //     }\n    // },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});\n"]}